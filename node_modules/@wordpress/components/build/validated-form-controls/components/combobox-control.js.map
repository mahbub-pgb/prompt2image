{
  "version": 3,
  "sources": ["../../../src/validated-form-controls/components/combobox-control.tsx"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { useMergeRefs } from '@wordpress/compose';\nimport { forwardRef, useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ControlWithError } from '../control-with-error';\nimport ComboboxControl from '../../combobox-control';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst UnforwardedValidatedComboboxControl = ({\n  required,\n  onValidate,\n  customValidity,\n  onChange,\n  markWhenOptional,\n  ...restProps\n}, forwardedRef) => {\n  const validityTargetRef = useRef(null);\n  const mergedRefs = useMergeRefs([forwardedRef, validityTargetRef]);\n  const valueRef = useRef(restProps.value);\n\n  // TODO: Upstream limitation - The `required` attribute is not passed down to the input,\n  // so we need to set it manually.\n  useEffect(() => {\n    const input = validityTargetRef.current?.querySelector('input[role=\"combobox\"]');\n    if (input) {\n      input.required = required !== null && required !== void 0 ? required : false;\n    }\n  }, [required]);\n  return (\n    /*#__PURE__*/\n    // TODO: Bug - Missing value error is not cleared immediately on change, waits for blur.\n    _jsx(ControlWithError, {\n      required: required,\n      markWhenOptional: markWhenOptional,\n      ref: mergedRefs,\n      onValidate: () => {\n        return onValidate?.(valueRef.current);\n      },\n      customValidity: customValidity,\n      getValidityTarget: () => validityTargetRef.current?.querySelector('input[role=\"combobox\"]'),\n      children: /*#__PURE__*/_jsx(ComboboxControl, {\n        __nextHasNoMarginBottom: true,\n        __next40pxDefaultSize: true,\n        ...restProps,\n        onChange: value => {\n          valueRef.current = value;\n          onChange?.(value);\n        }\n      })\n    })\n  );\n};\nexport const ValidatedComboboxControl = forwardRef(UnforwardedValidatedComboboxControl);"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,qBAA6B;AAC7B,qBAA8C;AAK9C,gCAAiC;AACjC,8BAA4B;AAC5B,yBAA4B;AAC5B,MAAM,sCAAsC,CAAC;AAAA,EAC3C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAG,iBAAiB;AAClB,QAAM,wBAAoB,uBAAO,IAAI;AACrC,QAAM,iBAAa,6BAAa,CAAC,cAAc,iBAAiB,CAAC;AACjE,QAAM,eAAW,uBAAO,UAAU,KAAK;AAIvC,gCAAU,MAAM;AACd,UAAM,QAAQ,kBAAkB,SAAS,cAAc,wBAAwB;AAC/E,QAAI,OAAO;AACT,YAAM,WAAW,aAAa,QAAQ,aAAa,SAAS,WAAW;AAAA,IACzE;AAAA,EACF,GAAG,CAAC,QAAQ,CAAC;AACb;AAAA;AAAA,IAGE,uCAAAA,KAAK,4CAAkB;AAAA,MACrB;AAAA,MACA;AAAA,MACA,KAAK;AAAA,MACL,YAAY,MAAM;AAChB,eAAO,aAAa,SAAS,OAAO;AAAA,MACtC;AAAA,MACA;AAAA,MACA,mBAAmB,MAAM,kBAAkB,SAAS,cAAc,wBAAwB;AAAA,MAC1F,UAAuB,uCAAAA,KAAK,wBAAAC,SAAiB;AAAA,QAC3C,yBAAyB;AAAA,QACzB,uBAAuB;AAAA,QACvB,GAAG;AAAA,QACH,UAAU,WAAS;AACjB,mBAAS,UAAU;AACnB,qBAAW,KAAK;AAAA,QAClB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA;AAEL;AACO,MAAM,+BAA2B,2BAAW,mCAAmC;",
  "names": ["_jsx", "ComboboxControl"]
}
