{
  "version": 3,
  "sources": ["../../src/color-picker/use-deprecated-props.ts"],
  "sourcesContent": ["/**\n * External dependencies\n */\nimport { colord } from 'colord';\nimport memoize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\n\nfunction isLegacyProps(props) {\n  return typeof props.onChangeComplete !== 'undefined' || typeof props.disableAlpha !== 'undefined' || typeof props.color?.hex === 'string';\n}\nfunction getColorFromLegacyProps(color) {\n  if (color === undefined) {\n    return;\n  }\n  if (typeof color === 'string') {\n    return color;\n  }\n  if (color.hex) {\n    return color.hex;\n  }\n  return undefined;\n}\nconst transformColorStringToLegacyColor = memoize(color => {\n  const colordColor = colord(color);\n  const hex = colordColor.toHex();\n  const rgb = colordColor.toRgb();\n  const hsv = colordColor.toHsv();\n  const hsl = colordColor.toHsl();\n  return {\n    hex,\n    rgb,\n    hsv,\n    hsl,\n    source: 'hex',\n    oldHue: hsl.h\n  };\n});\nexport function useDeprecatedProps(props) {\n  const {\n    onChangeComplete\n  } = props;\n  const legacyChangeHandler = useCallback(color => {\n    onChangeComplete(transformColorStringToLegacyColor(color));\n  }, [onChangeComplete]);\n  if (isLegacyProps(props)) {\n    return {\n      color: getColorFromLegacyProps(props.color),\n      enableAlpha: !props.disableAlpha,\n      onChange: legacyChangeHandler\n    };\n  }\n  return {\n    ...props,\n    color: props.color,\n    enableAlpha: props.enableAlpha,\n    onChange: props.onChange\n  };\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,oBAAuB;AACvB,oBAAoB;AAKpB,qBAA4B;AAM5B,SAAS,cAAc,OAAO;AAC5B,SAAO,OAAO,MAAM,qBAAqB,eAAe,OAAO,MAAM,iBAAiB,eAAe,OAAO,MAAM,OAAO,QAAQ;AACnI;AACA,SAAS,wBAAwB,OAAO;AACtC,MAAI,UAAU,QAAW;AACvB;AAAA,EACF;AACA,MAAI,OAAO,UAAU,UAAU;AAC7B,WAAO;AAAA,EACT;AACA,MAAI,MAAM,KAAK;AACb,WAAO,MAAM;AAAA,EACf;AACA,SAAO;AACT;AACA,MAAM,wCAAoC,cAAAA,SAAQ,WAAS;AACzD,QAAM,kBAAc,sBAAO,KAAK;AAChC,QAAM,MAAM,YAAY,MAAM;AAC9B,QAAM,MAAM,YAAY,MAAM;AAC9B,QAAM,MAAM,YAAY,MAAM;AAC9B,QAAM,MAAM,YAAY,MAAM;AAC9B,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,QAAQ;AAAA,IACR,QAAQ,IAAI;AAAA,EACd;AACF,CAAC;AACM,SAAS,mBAAmB,OAAO;AACxC,QAAM;AAAA,IACJ;AAAA,EACF,IAAI;AACJ,QAAM,0BAAsB,4BAAY,WAAS;AAC/C,qBAAiB,kCAAkC,KAAK,CAAC;AAAA,EAC3D,GAAG,CAAC,gBAAgB,CAAC;AACrB,MAAI,cAAc,KAAK,GAAG;AACxB,WAAO;AAAA,MACL,OAAO,wBAAwB,MAAM,KAAK;AAAA,MAC1C,aAAa,CAAC,MAAM;AAAA,MACpB,UAAU;AAAA,IACZ;AAAA,EACF;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO,MAAM;AAAA,IACb,aAAa,MAAM;AAAA,IACnB,UAAU,MAAM;AAAA,EAClB;AACF;",
  "names": ["memoize"]
}
