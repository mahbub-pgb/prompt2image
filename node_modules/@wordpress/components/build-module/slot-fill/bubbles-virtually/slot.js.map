{
  "version": 3,
  "sources": ["../../../src/slot-fill/bubbles-virtually/slot.tsx"],
  "sourcesContent": ["/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useLayoutEffect, useContext, forwardRef } from '@wordpress/element';\nimport { useMergeRefs } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { View } from '../../view';\nimport SlotFillContext from './slot-fill-context';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction Slot(props, forwardedRef) {\n  const {\n    name,\n    fillProps = {},\n    as,\n    // `children` is not allowed. However, if it is passed,\n    // it will be displayed as is, so remove `children`.\n    children,\n    ...restProps\n  } = props;\n  const registry = useContext(SlotFillContext);\n  const ref = useRef(null);\n\n  // We don't want to unregister and register the slot whenever\n  // `fillProps` change, which would cause the fill to be re-mounted. Instead,\n  // we can just update the slot (see hook below).\n  // For more context, see https://github.com/WordPress/gutenberg/pull/44403#discussion_r994415973\n  const fillPropsRef = useRef(fillProps);\n  useLayoutEffect(() => {\n    fillPropsRef.current = fillProps;\n  }, [fillProps]);\n  useLayoutEffect(() => {\n    registry.registerSlot(name, ref, fillPropsRef.current);\n    return () => registry.unregisterSlot(name, ref);\n  }, [registry, name]);\n  useLayoutEffect(() => {\n    registry.updateSlot(name, ref, fillPropsRef.current);\n  });\n  return /*#__PURE__*/_jsx(View, {\n    as: as,\n    ref: useMergeRefs([forwardedRef, ref]),\n    ...restProps\n  });\n}\nexport default forwardRef(Slot);"],
  "mappings": "AAOA,SAAS,QAAQ,iBAAiB,YAAY,kBAAkB;AAChE,SAAS,oBAAoB;AAK7B,SAAS,YAAY;AACrB,OAAO,qBAAqB;AAC5B,SAAS,OAAO,YAAY;AAC5B,SAAS,KAAK,OAAO,cAAc;AACjC,QAAM;AAAA,IACJ;AAAA,IACA,YAAY,CAAC;AAAA,IACb;AAAA;AAAA;AAAA,IAGA;AAAA,IACA,GAAG;AAAA,EACL,IAAI;AACJ,QAAM,WAAW,WAAW,eAAe;AAC3C,QAAM,MAAM,OAAO,IAAI;AAMvB,QAAM,eAAe,OAAO,SAAS;AACrC,kBAAgB,MAAM;AACpB,iBAAa,UAAU;AAAA,EACzB,GAAG,CAAC,SAAS,CAAC;AACd,kBAAgB,MAAM;AACpB,aAAS,aAAa,MAAM,KAAK,aAAa,OAAO;AACrD,WAAO,MAAM,SAAS,eAAe,MAAM,GAAG;AAAA,EAChD,GAAG,CAAC,UAAU,IAAI,CAAC;AACnB,kBAAgB,MAAM;AACpB,aAAS,WAAW,MAAM,KAAK,aAAa,OAAO;AAAA,EACrD,CAAC;AACD,SAAoB,qBAAK,MAAM;AAAA,IAC7B;AAAA,IACA,KAAK,aAAa,CAAC,cAAc,GAAG,CAAC;AAAA,IACrC,GAAG;AAAA,EACL,CAAC;AACH;AACA,IAAO,eAAQ,WAAW,IAAI;",
  "names": []
}
